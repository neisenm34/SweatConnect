<head>
  <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/pure-min.css" integrity="sha384-nn4HPE8lTHyVtfCBi5yW9d20FjT8BJwUXyWZT9InLYax14RDjBj46LmSztkmNP9w" crossorigin="anonymous">
  <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/grids-responsive-min.css">
</head>

<body>
  <div class="pure-g">
    <div class="pure-u-1 pure-u-sm-1-2 pure-u-md-1-3">
      <div class="card">
        <div class="container">
          <h2>Filters</h2>
          <form class="pure-form pure-form-stacked" [formGroup]="form">
            <fieldset>
              <legend>Gyms</legend>
              <label><input type="checkbox" formControlName="loc_ymca">YMCA</label>
              <label><input type="checkbox" formControlName="loc_snap">Snap Fitness</label>
              <label><input type="checkbox" formControlName="loc_anytime">Anytime Fitness</label>
              <label><input type="checkbox" formControlName="loc_orange">Orange Theory</label>
            </fieldset>

            <fieldset>
              <legend>Activity</legend>
              <label><input type="checkbox" formControlName="act_cardio">Cardio</label>
              <label><input type="checkbox" formControlName="act_cycling">Cycling</label>
              <label><input type="checkbox" formControlName="act_hiit">HIIT</label>
              <label><input type="checkbox" formControlName="act_kickboxing">Kickboxing</label>
              <label><input type="checkbox" formControlName="act_strength">Strength Training</label>
              <label><input type="checkbox" formControlName="act_trx">TRX</label>
              <label><input type="checkbox" formControlName="act_yoga">Yoga</label>
              <label><input type="checkbox" formControlName="act_zumba">Zumba</label>
            </fieldset>

            <fieldset>
              <legend>Time</legend>
              <label><input type="checkbox" formControlName="time_early_morning">Early Morning</label>
              <label><input type="checkbox" formControlName="time_late_morning">Late Morning</label>
              <label><input type="checkbox" formControlName="time_afternoon">Afternoon</label>
              <label><input type="checkbox" formControlName="time_evening">Evening</label>
              <label><input type="checkbox" formControlName="time_night">Night</label>
              <label><input type="checkbox" formControlName="time_late_night">Late Night</label>
            </fieldset>
          </form>
        </div>
      </div>
    </div>

    <div class="pure-u-1 pure-u-sm-1-2 pure-u-md-2-3">
      <h2>Search Results</h2>
      <div *ngFor="let user of filteredUsers" class="pure-u-1 pure-u-sm-1-2 pure-u-md-1-3">
        <div class="card center-content">
          <div class="container">
            <img src="http://morrisinsurancegroup.com/wp-content/uploads/2018/01/blank-avatar.png">
            <h2>{{user.name}}</h2>

            <h4>Gym Memberships</h4>
            <p *ngFor="let membership of user.memberships">
              {{membership}}
            </p>

            <h4>Preferred Activities</h4>
            <p *ngFor="let activity of user.preferred_workouts">
              {{activity}}
            </p>

            <h4>Preferred Workout Times</h4>
            <p *ngFor="let time of user.preferred_times">
              {{time}}
            </p>

            <button class="pure-button button-margin pure-button-primary" (click)="onConnect(user.name)">Connect</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <button class="open-button" (click)="openForm()">Chat</button>

  <div class="chat-popup" id="myForm">
    <h1>Chat</h1>
    <h2>Chat Messages</h2>
    <div class="user">
      <img src="https://ui-avatars.com/api/?name=John+Doe&size=75&rounded=true" alt="user1-avatar">
      <p>Hello there! Are we still meeting at gym today?</p>
      <span class="time-right">11:00</span>
    </div>
    <div class="user darker">
      <img src="https://ui-avatars.com/api/?name=John+Doe&size=75&rounded=true" alt="user1-avatar">
      <p>Yep, see you there!</p>
      <span class="time-left">11:03</span>
    </div>
    <div class="user darker">
      <img src="https://ui-avatars.com/api/?name=John+Doe&size=75&rounded=true" alt="user1-avatar">
      <p>Hey, starting in a min!</p>
      <span class="time-left">17:34</span>
    </div>

    <textarea placeholder="Type new message here.." name="msg" required></textarea>

    <button type="submit" class="btn">Send</button>
    <button type="button" class="btn cancel" (click)="closeForm()">Close</button>
  </div>
</body>
